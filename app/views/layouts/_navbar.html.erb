<div data-controller="theme">
  <span class="absolute text-white text-4xl top-5 left-4 cursor-pointer" onclick="open_nav()">
    <i class="bi bi-filter-left px-2 dark:bg-gray-900 bg-gray-100 dark:text-gray-100 text-gray-900 rounded-md"></i>
  </span>
  <div class="sidebar fixed top-0 bottom-0 lg:left-0 left-[-250px] p-2 w-[250px] overflow-y-auto text-center dark:bg-gray-900 bg-gray-300 shadow h-screen">
    <div class="font-bold dark:text-gray-100 text-gray-900 text-xl">
      <div class="p-2.5 mt-1 flex items-center rounded-md">
        <%= image_tag("logo.png", alt: "Planit", width: 150, class: "mx-auto") %>
        <i class="bi bi-x cursor-pointer lg:hidden" onclick="open_nav()"></i>
      </div>
      <hr class="my-2 dark:border-gray-600 border-gray-900">

      <div>
        <% if logged_in? %>
          <div class="p-2.5 mt-2 flex items-center rounded-md px-4 duration-300 cursor-pointer dark:hover:bg-gray-700 hover:bg-gray-400">
            <i class="bi bi-house-door-fill"></i>
            <span class="text-[15px] ml-4 dark:text-gray-200 text-gray-900">Home</span>
          </div>
          <div class="p-2.5 mt-2 flex items-center rounded-md px-4 duration-300 cursor-pointer dark:hover:bg-gray-700 hover:bg-gray-400">
            <i class="bi bi-list-check"></i>
            <span class="text-[15px] ml-4 dark:text-gray-200 text-gray-900">To-Do</span>
          </div>
          <div class="p-2.5 mt-2 flex items-center rounded-md px-4 duration-300 cursor-pointer dark:hover:bg-gray-700 hover:bg-gray-400">
            <i class="bi bi-calendar"></i>
            <span class="text-[15px] ml-4 dark:text-gray-200 text-gray-900">Calendar</span>
          </div>
          <div class="p-2.5 mt-2 flex items-center rounded-md px-4 duration-300 cursor-pointer dark:hover:bg-gray-700 hover:bg-gray-400">
            <i class="bi bi-journal"></i>
            <span class="text-[15px] ml-4 dark:text-gray-200 text-gray-900">Semester Planner</span>
          </div>
          <div class="p-2.5 mt-2 flex items-center rounded-md px-4 duration-300 cursor-pointer dark:hover:bg-gray-700 hover:bg-gray-400">
            <i class="bi bi-graph-up-arrow"></i>
            <span class="text-[15px] ml-4 dark:text-gray-200 text-gray-900">Goals</span>
          </div>
          <hr class="my-4 dark:border-gray-600 border-gray-900">
          <div class="p-2.5 mt-2 flex items-center rounded-md px-4 duration-300 cursor-pointer dark:hover:bg-gray-700 hover:bg-gray-400">
            <i class="bi bi-person-fill"></i>
            <span class="text-[15px] ml-4 dark:text-gray-200 text-gray-900">My account</span>
          </div>
          <%= link_to '/logout', method: :get do %>
            <div class="p-2.5 mt-2 flex items-center rounded-md px-4 duration-300 cursor-pointer dark:hover:bg-gray-700 hover:bg-gray-400">
              <i class="bi bi-box-arrow-in-left"></i>
              <span class="text-[15px] ml-4 dark:text-gray-200 text-gray-900">Logout</span>
            </div>
          <% end %>
        <% else %>
          <%= link_to '/login', method: :get do %>
            <div class="p-2.5 mt-2 flex items-center rounded-md px-4 duration-300 cursor-pointer dark:hover:bg-gray-700 hover:bg-gray-400">
              <i class="bi bi-box-arrow-in-right"></i>
              <span class="text-[15px] ml-4 dark:text-gray-200 text-gray-900">Login</span>
            </div>
          <% end %>
          <%= link_to '/users/new', method: :get do %>
            <div class="p-2.5 mt-2 flex items-center rounded-md px-4 duration-300 cursor-pointer dark:hover:bg-gray-700 hover:bg-gray-400">
              <i class="bi bi-person-plus-fill"></i>
              <span class="text-[15px] ml-4 dark:text-gray-200 text-gray-900">Sign up</span>
            </div>
          <% end %>
        <% end %>
        <div data-theme-target="themeToggle" data-action="click->theme#changeTheme" class="p-2.5 mt-3 flex items-center rounded-md px-4 duration-300 cursor-pointer dark:hover:bg-gray-700 hover:bg-gray-400">
            <i id="theme-toggle-dark-icon" class="hidden bi bi-brightness-high-fill"></i>
            <i id="theme-toggle-light-icon" class="hidden bi bi-moon-fill"></i>
            <span class="text-[15px] ml-4 dark:text-gray-200 text-gray-900">Toggle theme</span>
        </div>
      </div>
    </div>
  </div>
  <script>
    const open_nav = () => {
      document.querySelector('.sidebar').classList.toggle('left-[-250px]')
    };
  </script>
</div>